# =========================================
# APPLICATION CONFIGURATION
# =========================================
# Core application settings
spring.application.name=auth
server.port=9090

# Authentication Configuration
# -----------------------------------------
# Options: ldap, db
authentication.type=ldap


# =========================================
# DATABASE CONFIGURATION
# =========================================
# MySQL Database Connection
# -----------------------------------------
spring.datasource.url=jdbc:mysql://localhost:3306/mydb
spring.datasource.username=
spring.datasource.password=
spring.datasource.driverClassName=com.mysql.cj.jdbc.Driver

# JPA / Hibernate Configuration
# -----------------------------------------
# Available ddl-auto options: none, validate, update, create, create-drop
spring.jpa.hibernate.ddl-auto=update
spring.jpa.database-platform=
spring.jpa.database=mysql
spring.jpa.show-sql=true
spring.data.jpa.repositories.enabled=true
spring.jpa.open-in-view=false


# =========================================
# LDAP CONFIGURATION
# =========================================
# Server Connection
# -----------------------------------------
spring.ldap.url=ldap://localhost:389/dc=maxcrc,dc=com
spring.ldap.base=dc=maxcrc,dc=com
spring.ldap.username=cn=Manager,dc=maxcrc,dc=com
spring.ldap.password=secret

# LDAP Search Configuration
# -----------------------------------------
spring.ldap.template.search.base=ou=users,dc=maxcrc,dc=com
spring.ldap.template.search.filter=(uid={0})
ldap.user.dn.pattern=uid={username},ou=users,dc=maxcrc,dc=com


# =========================================
# THYMELEAF CONFIGURATION
# =========================================
# Template Engine Settings
# -----------------------------------------
spring.thymeleaf.enabled=true
spring.thymeleaf.prefix=classpath:/templates/
spring.thymeleaf.suffix=.html
spring.thymeleaf.cache=false
spring.thymeleaf.check-template=true
spring.thymeleaf.check-template-location=true

# =========================================
# LOGGING CONFIGURATION
# =========================================
# Log File Settings
# -----------------------------------------
# Base directory for log files
logging.file.path=logs
# Main log file name
logging.file.name=logs/app.log

# Log Levels Configuration
# -----------------------------------------
# Available levels: OFF, FATAL, ERROR, WARN, INFO, DEBUG, TRACE
# Root logger level
logging.level.root=INFO
# Application-specific logging
logging.level.com.digi.auth=INFO
# Framework logging
logging.level.org.springframework.web=INFO
logging.level.org.springframework.security=INFO
logging.level.org.springframework.ldap=INFO

# Log Format Configuration
# -----------------------------------------
# Pattern explanation:
# %d{...} = Date and time
# [%thread] = Thread name
# %-5level = Log level (padded)
# %logger{36} = Logger name (truncated)
# %msg%n = Log message with new line
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n

# Rolling File Configuration
# -----------------------------------------
# File rotation pattern
logging.logback.rollingpolicy.file-name-pattern=logs/app-%d{yyyy-MM-dd}.%i.log
# Single file size trigger
logging.logback.rollingpolicy.max-file-size=10MB
# Total size of all log files
logging.logback.rollingpolicy.total-size-cap=100MB
# Number of days to keep files
logging.logback.rollingpolicy.max-history=30
# Clean old logs on startup (true/false)
logging.logback.rollingpolicy.clean-history-on-start=false

# Console Output Configuration
# -----------------------------------------
# ANSI color support (options: ALWAYS, NEVER, DETECT)
spring.output.ansi.enabled=DETECT

